{"ast":null,"code":"import _classCallCheck from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/src/components/player-wrapper.js\";\nimport React, { Component } from 'react';\nimport Play from \"@material-ui/icons/PlayArrow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { connect } from \"react-redux\";\nimport Stop from '@material-ui/icons/Stop';\nimport Pause from '@material-ui/icons/Pause';\nimport * as utils from '../services/utils';\nimport * as playerActions from '../redux/actions/playerActions';\nimport * as sourceActions from \"../redux/actions/sourceActions\";\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\nimport { Howl } from 'howler';\nimport { withSnackbar } from \"notistack\";\nimport { initialize } from \"../redux/actions/localize-actions\";\nvar styles = {\n  playerRoot: {\n    display: 'flex',\n    alignItems: 'center',\n    minHeight: '50px'\n  },\n  audioPlayer: {\n    flex: '0 1 auto',\n    padding: '0px',\n    margin: '0px',\n    backgroundColor: '#2a2a2a'\n  },\n  leftPart: {\n    display: 'flex',\n    // flex: '1 1 auto',\n    alignItems: 'center',\n    marginRight: '15px'\n  },\n  rightPart: {\n    display: 'flex',\n    flex: '1 1 auto',\n    alignItems: 'center',\n    justifyContent: 'flex-end'\n  },\n  button: {\n    alignSelf: 'flex-end'\n  },\n  icon: {\n    width: '48px',\n    height: '48px'\n  },\n  progressDigit: {\n    color: 'white',\n    fontSize: '22px',\n    fontWeight: 'bold'\n  }\n};\nvar cortinaDuration = 15 * 1000;\nvar fadeoutDuration = 5 * 1000; // in milliseconds\n\nvar listenInterval = 300; //in milliseconds\n\nvar songInterval = 1500; // in milliseconds\n\nvar start = null;\n\nvar PlayerWrapper =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PlayerWrapper, _Component);\n\n  function PlayerWrapper(props) {\n    var _this;\n\n    _classCallCheck(this, PlayerWrapper);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PlayerWrapper).call(this, props));\n\n    _this.step = function (timestamp) {\n      if (_this.sound !== null) {\n        // console.log(this.sound.seek());\n        if (_this.start === null) {\n          _this.start = 0;\n        }\n\n        _this.listen(_this.sound.seek() || 0);\n      } // If the sound is still playing, continue stepping.\n\n\n      if (_this.sound !== null && _this.sound.playing()) {\n        window.requestAnimationFrame(_this.step);\n      }\n    };\n\n    _this.handleStartPlay = function () {\n      window.requestAnimationFrame(_this.step);\n    };\n\n    _this.play = function () {\n      var tango;\n      tango = _this.props.playerData.currentTango;\n\n      if (_this.sound === null) {\n        console.log(tango);\n\n        _this.props.enqueueSnackbar(\"initialize \" + tango.title, {\n          variant: 'warning'\n        });\n\n        _this.initHowl(tango.path, _this.props.playerData.currentTangoSong);\n      } else {\n        _this.props.dispatch(playerActions.updateVolume(1));\n\n        _this.props.dispatch(playerActions.updatePause(false));\n\n        try {\n          // this.props.enqueueSnackbar(tango.start + ', ' + tango.end, {variant: 'success'});\n          if (tango.start > 0) {\n            _this.sound.seek(tango.start / 1000);\n          }\n\n          _this.sound.play();\n        } catch (error) {\n          console.error(error); // this.props.enqueueSnackbar(str(error), {variant: 'error'});\n        }\n      }\n    };\n\n    _this.pause = function () {\n      _this.sound.pause();\n    };\n\n    _this.stop = function () {\n      try {\n        if (_this.sound !== null) {\n          _this.sound.stop();\n\n          _this.sound.unload();\n\n          _this.sound = null;\n\n          _this.setState({\n            progress: 0\n          });\n        }\n\n        _this.props.dispatch(playerActions.updateVolume(1));\n\n        _this.props.dispatch(playerActions.updatePause(true));\n      } catch (error) {\n        console.log(error); // this.props.enqueueSnackbar(error, {variant: 'error'});\n      }\n    };\n\n    _this.handlePlayPause = function () {\n      if (_this.sound !== null && _this.sound.playing()) {\n        _this.props.dispatch(playerActions.updatePause(true));\n\n        _this.pause();\n      } else {\n        _this.props.dispatch(playerActions.updatePause(false));\n\n        _this.play(); // this.rap.audioEl.pause();\n\n      }\n    };\n\n    _this.listen = function (position) {\n      position = Math.round(position * 1000);\n\n      _this.setState({\n        progress: position\n      });\n\n      var tango = _this.props.playerData.currentTango;\n      console.log(position, tango.end);\n\n      if (tango.genre === 'cortina' && position >= cortinaDuration - fadeoutDuration && _this.state.isFading === false) {\n        _this.sound.fade(1, 0, fadeoutDuration);\n\n        _this.setState({\n          isFading: true\n        });\n      } else if (tango.genre === 'cortina' && position > cortinaDuration) {\n        _this.playNext();\n      } else if (tango.genre !== 'cortina' && tango.end > 0 && position > tango.end) {\n        _this.stop();\n\n        setTimeout(function () {\n          _this.playNext();\n        }, songInterval);\n      }\n    };\n\n    _this.ended = function (event) {\n      var audioElement = _this.rap.audioEl;\n      audioElement.pause();\n      audioElement.src = \"\"; // empty source\n\n      audioElement.title = \"\";\n      console.log(audioElement);\n\n      _this.playNext();\n    };\n\n    _this.onUpdate = function (update) {\n      _this.setState({\n        update: update\n      });\n    };\n\n    _this.onChange = function (values) {\n      _this.setState({\n        values: values\n      });\n    };\n\n    _this.seekSlider = function (value) {\n      console.log(value);\n\n      _this.sound.seek(value / 1000);\n    };\n\n    _this.handleOnPause = function (value) {\n      console.log(value); // if (!this.props.playerData.isPaused)this.props.dispatch(playerActions.updatePause(true))\n    };\n\n    _this.sound = null;\n    _this.start = null;\n    _this.state = {\n      progress: 0,\n      isFading: false\n    };\n    window.requestAnimationFrame(_this.step);\n    return _this;\n  }\n\n  _createClass(PlayerWrapper, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      if (prevProps.playerData !== undefined && prevProps.playerData.currentTango.path !== '' && this.props.playerData.currentTango.path !== prevProps.playerData.currentTango.path) {\n        this.stop();\n        this.initHowl(this.props.playerData.currentTango.path, this.props.playerData.currentTangoSong);\n        this.play();\n      }\n    }\n    /*shouldComponentUpdate(nextProps, nextState) {\n      if nextProps.playerData.currentTango.path === this.props.playerData.currentTango.path;\n    }*/\n\n  }, {\n    key: \"initHowl\",\n    value: function initHowl(path, songFile) {\n      var _this2 = this;\n\n      var ext = path.split('.').pop();\n      console.log(songFile);\n\n      if (songFile !== undefined) {\n        this.sound = new Howl({\n          src: songFile,\n          format: [ext],\n          onend: function onend() {\n            console.log('Finished!');\n\n            _this2.playNext();\n          },\n          onplay: this.handleStartPlay\n        });\n      } else {\n        this.playNext();\n      }\n    }\n  }, {\n    key: \"playNext\",\n    value: function playNext() {\n      this.stop();\n      this.setState({\n        isFading: false\n      });\n      var index = this.props.source.currentIndex;\n      var tango = this.props.source.displayTangoList[index + 1];\n      this.props.dispatch(playerActions.updateCurrentTango(tango, this.props.enqueueSnackbar));\n      this.props.dispatch(sourceActions.updateCurrentIndex(index + 1));\n    }\n  }, {\n    key: \"getTitle\",\n    value: function getTitle() {\n      // noinspection JSAnnotator\n      var tango, ret, styles, space, color;\n      tango = this.props.playerData.currentTango;\n      ret = null;\n      space = '8px';\n      color = 'white';\n      styles = {\n        genre: {\n          color: color,\n          fontSize: '40px',\n          fontWeight: 'bold'\n        },\n        title: {\n          color: color\n        },\n        orchestra: {},\n        titleContainer: {\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        separator: {\n          minWidth: '1px',\n          minHeight: '48px',\n          marginLeft: space,\n          marginRight: space,\n          backgroundColor: color\n        }\n      };\n\n      if (tango.path !== '') {\n        ret = [React.createElement(\"span\", {\n          style: styles.genre,\n          key: 'title_genre',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, tango.genre.toUpperCase()), React.createElement(\"div\", {\n          style: styles.separator,\n          key: 'title_separator',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          style: styles.titleContainer,\n          key: 'title_title',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          style: styles.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        }, tango.title), React.createElement(\"span\", {\n          style: styles.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }, tango.artist, \" ( \", tango.singer, \" - \", tango.year, \" )\"))];\n        return ret;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var trackStyle = [{\n        backgroundColor: '#ff4081'\n      }];\n      var handleStyle = [{\n        backgroundColor: '#ff4081',\n        borderColor: '#ff4081'\n      }];\n      return React.createElement(\"div\", {\n        style: styles.playerRoot,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: styles.leftPart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, this.getTitle()), React.createElement(\"div\", {\n        style: styles.rightPart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flex: '1 1 auto',\n          padding: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, React.createElement(Slider, {\n        value: this.state.progress || 0,\n        max: this.props.playerData.currentTango.duration || 100,\n        step: 1,\n        trackStyle: trackStyle,\n        handleStyle: handleStyle,\n        onChange: this.seekSlider,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        style: styles.progressDigit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, utils.millisToMinutesAndSeconds(this.state.progress), \" / \", utils.millisToMinutesAndSeconds(this.props.playerData.currentTango.duration)), React.createElement(IconButton, {\n        style: styles.button,\n        color: 'secondary',\n        onClick: this.handlePlayPause,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, this.props.playerData.isPaused && React.createElement(Play, {\n        style: styles.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }), !this.props.playerData.isPaused && React.createElement(Pause, {\n        style: styles.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      })), React.createElement(IconButton, {\n        style: styles.button,\n        color: 'secondary',\n        onClick: this.stop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, React.createElement(Stop, {\n        style: styles.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return PlayerWrapper;\n}(Component);\n\nvar myPlayerWrapper = withSnackbar(PlayerWrapper);\nexport default connect(function (store) {\n  return {\n    playerData: store.player,\n    source: store.source\n  };\n})(myPlayerWrapper);","map":{"version":3,"sources":["/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/src/components/player-wrapper.js"],"names":["React","Component","Play","IconButton","connect","Stop","Pause","utils","playerActions","sourceActions","Slider","Howl","withSnackbar","initialize","styles","playerRoot","display","alignItems","minHeight","audioPlayer","flex","padding","margin","backgroundColor","leftPart","marginRight","rightPart","justifyContent","button","alignSelf","icon","width","height","progressDigit","color","fontSize","fontWeight","cortinaDuration","fadeoutDuration","listenInterval","songInterval","start","PlayerWrapper","props","step","timestamp","sound","listen","seek","playing","window","requestAnimationFrame","handleStartPlay","play","tango","playerData","currentTango","console","log","enqueueSnackbar","title","variant","initHowl","path","currentTangoSong","dispatch","updateVolume","updatePause","error","pause","stop","unload","setState","progress","handlePlayPause","position","Math","round","end","genre","state","isFading","fade","playNext","setTimeout","ended","event","audioElement","rap","audioEl","src","onUpdate","update","onChange","values","seekSlider","value","handleOnPause","prevProps","prevState","snapshot","undefined","songFile","ext","split","pop","format","onend","onplay","index","source","currentIndex","displayTangoList","updateCurrentTango","updateCurrentIndex","ret","space","orchestra","titleContainer","flexDirection","separator","minWidth","marginLeft","toUpperCase","artist","singer","year","trackStyle","handleStyle","borderColor","getTitle","duration","millisToMinutesAndSeconds","isPaused","myPlayerWrapper","store","player"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Play from \"@material-ui/icons/PlayArrow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {connect} from \"react-redux\";\nimport Stop from '@material-ui/icons/Stop';\nimport Pause from '@material-ui/icons/Pause';\nimport * as utils from '../services/utils';\nimport * as playerActions from '../redux/actions/playerActions';\nimport * as sourceActions from \"../redux/actions/sourceActions\";\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\nimport {Howl} from 'howler';\nimport {withSnackbar} from \"notistack\";\nimport {initialize} from \"../redux/actions/localize-actions\";\n\nconst styles = {\n  playerRoot: {\n    display: 'flex',\n    alignItems: 'center',\n    minHeight: '50px',\n  },\n  audioPlayer: {\n    flex: '0 1 auto',\n    padding: '0px',\n    margin: '0px',\n    backgroundColor: '#2a2a2a',\n  },\n  leftPart: {\n    display: 'flex',\n    // flex: '1 1 auto',\n    alignItems: 'center',\n    marginRight: '15px',\n  },\n  rightPart: {\n    display: 'flex',\n    flex: '1 1 auto',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n  },\n  button: {\n    alignSelf: 'flex-end',\n  },\n  icon: {\n    width: '48px',\n    height: '48px',\n  },\n  progressDigit: {\n    color: 'white',\n    fontSize: '22px',\n    fontWeight: 'bold',\n  }\n};\n\n\nconst cortinaDuration = 15 * 1000;\nconst fadeoutDuration = 5 * 1000; // in milliseconds\nconst listenInterval = 300; //in milliseconds\nconst songInterval = 1500; // in milliseconds\nlet start = null\n\nclass PlayerWrapper extends Component {\n\n  constructor(props) {\n    super(props);\n    this.sound = null;\n    this.start = null;\n    this.state = {\n      progress: 0,\n      isFading: false,\n    };\n    window.requestAnimationFrame(this.step);\n\n  }\n\n  componentDidUpdate(prevProps: Readonly<P>, prevState: Readonly<S>, snapshot: SS): void {\n    if (prevProps.playerData !== undefined && prevProps.playerData.currentTango.path !== '' && this.props.playerData.currentTango.path !== prevProps.playerData.currentTango.path) {\n      this.stop();\n      this.initHowl(this.props.playerData.currentTango.path, this.props.playerData.currentTangoSong);\n      this.play();\n    }\n  }\n\n  /*shouldComponentUpdate(nextProps, nextState) {\n    if nextProps.playerData.currentTango.path === this.props.playerData.currentTango.path;\n  }*/\n\n  step = (timestamp) => {\n    if (this.sound !== null) {\n      // console.log(this.sound.seek());\n      if (this.start === null) {\n        this.start = 0;\n      }\n      this.listen(this.sound.seek() || 0);\n    }\n\n    // If the sound is still playing, continue stepping.\n    if (this.sound !== null && this.sound.playing()) {\n      window.requestAnimationFrame(this.step);\n    }\n\n\n  };\n\n  initHowl(path, songFile) {\n    let ext = path.split('.').pop();\n    console.log(songFile);\n    if (songFile !== undefined) {\n      this.sound = new Howl(\n        {\n          src: songFile,\n          format: [ext],\n          onend: () => {\n            console.log('Finished!');\n            this.playNext();\n          },\n          onplay: this.handleStartPlay,\n        });\n    } else {\n      this.playNext();\n    }\n  }\n\n  handleStartPlay = () => {\n    window.requestAnimationFrame(this.step);\n  };\n\n  play = () => {\n    let tango: tango;\n    tango = this.props.playerData.currentTango;\n    if (this.sound === null) {\n      console.log(tango);\n      this.props.enqueueSnackbar(\"initialize \" + tango.title, {variant: 'warning'});\n      this.initHowl(tango.path, this.props.playerData.currentTangoSong)\n    } else {\n\n      this.props.dispatch(playerActions.updateVolume(1));\n      this.props.dispatch(playerActions.updatePause(false));\n      try {\n        // this.props.enqueueSnackbar(tango.start + ', ' + tango.end, {variant: 'success'});\n        if (tango.start > 0) {\n          this.sound.seek(tango.start / 1000);\n        }\n        this.sound.play();\n      } catch (error) {\n        console.error(error);\n        // this.props.enqueueSnackbar(str(error), {variant: 'error'});\n      }\n    }\n  };\n\n  pause = () => {\n    this.sound.pause()\n  };\n\n  stop = () => {\n    try {\n      if (this.sound !== null) {\n        this.sound.stop();\n        this.sound.unload();\n        this.sound = null;\n        this.setState({progress: 0});\n      }\n      this.props.dispatch(playerActions.updateVolume(1));\n      this.props.dispatch(playerActions.updatePause(true));\n    } catch (error) {\n      console.log(error)\n      // this.props.enqueueSnackbar(error, {variant: 'error'});\n    }\n\n  };\n\n  handlePlayPause = () => {\n\n    if (this.sound !== null && this.sound.playing()) {\n      this.props.dispatch(playerActions.updatePause(true));\n      this.pause();\n    } else {\n      this.props.dispatch(playerActions.updatePause(false));\n      this.play();\n\n      // this.rap.audioEl.pause();\n    }\n  };\n\n\n  listen = (position) => {\n\n    position = Math.round(position * 1000);\n    this.setState({progress: position});\n    let tango = this.props.playerData.currentTango;\n    console.log(position, tango.end);\n    if (tango.genre === 'cortina' && position >= cortinaDuration - fadeoutDuration && this.state.isFading === false) {\n      this.sound.fade(1, 0, fadeoutDuration);\n      this.setState({isFading: true});\n    } else if (tango.genre === 'cortina' && position > cortinaDuration) {\n      this.playNext();\n    } else if (tango.genre !== 'cortina' && tango.end >0 && position > tango.end) {\n\n      this.stop();\n      setTimeout(() => {\n        this.playNext();\n      }, songInterval);\n\n    }\n  };\n\n  playNext() {\n    this.stop();\n    this.setState({isFading: false});\n    let index = this.props.source.currentIndex;\n    let tango = this.props.source.displayTangoList[index + 1];\n    this.props.dispatch(playerActions.updateCurrentTango(tango, this.props.enqueueSnackbar));\n    this.props.dispatch(sourceActions.updateCurrentIndex(index + 1));\n  }\n\n  ended = (event) => {\n    let audioElement = this.rap.audioEl;\n    audioElement.pause();\n    audioElement.src = \"\"; // empty source\n    audioElement.title = \"\";\n    console.log(audioElement);\n    this.playNext();\n  };\n\n  onUpdate = update => {\n    this.setState({update})\n  };\n\n  onChange = values => {\n    this.setState({values})\n  };\n\n  getTitle() {\n\n    // noinspection JSAnnotator\n    let tango: tango, ret, styles, space, color;\n    tango = this.props.playerData.currentTango;\n    ret = null;\n    space = '8px';\n    color = 'white';\n    styles = {\n      genre: {\n        color,\n        fontSize: '40px',\n        fontWeight: 'bold',\n      },\n      title: {\n        color,\n      },\n      orchestra: {},\n      titleContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n      },\n      separator: {\n        minWidth: '1px',\n        minHeight: '48px',\n        marginLeft: space,\n        marginRight: space,\n        backgroundColor: color,\n      }\n    };\n\n    if (tango.path !== '') {\n\n      ret = [\n        <span style={styles.genre} key={'title_genre'}>{tango.genre.toUpperCase()}</span>,\n        <div style={styles.separator} key={'title_separator'}/>,\n        <div style={styles.titleContainer} key={'title_title'}>\n          <span style={styles.title}>{tango.title}</span>\n          <span style={styles.title}>{tango.artist} ( {tango.singer} - {tango.year} )</span>\n        </div>\n      ];\n\n      return ret;\n    }\n  }\n\n  seekSlider = (value) => {\n    console.log(value);\n    this.sound.seek(value / 1000);\n  };\n\n  render() {\n    let trackStyle = [{backgroundColor: '#ff4081'}];\n    let handleStyle = [{backgroundColor: '#ff4081', borderColor: '#ff4081'}];\n\n    return (\n      <div style={styles.playerRoot}>\n        <div style={styles.leftPart}>\n          {this.getTitle()}\n\n        </div>\n        <div style={styles.rightPart}>\n          <div style={{display: 'flex', flex: '1 1 auto', padding: '15px'}}>\n            <Slider\n              value={this.state.progress || 0}\n              max={this.props.playerData.currentTango.duration || 100}\n              step={1}\n              trackStyle={trackStyle}\n              handleStyle={handleStyle}\n              onChange={this.seekSlider}\n\n            />\n          </div>\n          <span\n            style={styles.progressDigit}>{utils.millisToMinutesAndSeconds(this.state.progress)} / {utils.millisToMinutesAndSeconds(this.props.playerData.currentTango.duration)}</span>\n          <IconButton\n            style={styles.button}\n            color={'secondary'}\n            onClick={this.handlePlayPause}\n          >\n            {this.props.playerData.isPaused &&\n            <Play style={styles.icon}/>\n            }\n            {!this.props.playerData.isPaused &&\n            <Pause style={styles.icon}/>\n            }\n\n\n          </IconButton>\n          <IconButton\n            style={styles.button}\n            color={'secondary'}\n            onClick={this.stop}\n          >\n            <Stop style={styles.icon}/>\n          </IconButton>\n\n\n        </div>\n\n      </div>\n\n    );\n  }\n\n  handleOnPause = (value) => {\n    console.log(value);\n    // if (!this.props.playerData.isPaused)this.props.dispatch(playerActions.updatePause(true))\n  };\n}\n\nconst myPlayerWrapper = withSnackbar(PlayerWrapper);\nexport default connect(\n  (store) => {\n    return {\n      playerData: store.player,\n      source: store.source,\n    }\n  })\n(myPlayerWrapper);\n"]},"metadata":{},"sourceType":"module"}