{"ast":null,"code":"import _objectSpread from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/src/components/milonga-list.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as milongaActions from '../redux/actions/milongaActions';\nimport Save from '@material-ui/icons/Save';\nimport OpenMilonga from '@material-ui/icons/FolderOpen';\nimport Info from '@material-ui/icons/Info';\nimport Delete from '@material-ui/icons/DeleteForever';\nimport Sweep from '@material-ui/icons/DeleteSweep';\nimport ArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\nimport ArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tooltip from 'rc-tooltip';\nimport 'rc-tooltip/assets/bootstrap.css';\nimport VirtualList from 'react-tiny-virtual-list';\nimport { ItemTypes, sortStatus as SORT } from \"../services/dj-const\";\nimport DataLine from './data-line';\nimport * as djUtils from \"./dj-utils\";\nimport { DropTarget } from 'react-dnd';\nimport * as sizeActions from '../redux/actions/componentSizeActions';\nvar milongaTarget = {\n  drop: function drop(props, monitor) {\n    // moveTango(props.beforeId, props.afterId);\n    //\n    var tangoToAdd = djUtils.getTangoListFromIdList(props.selectedTangos, props.tangoList); // console.log(props.milonga.indexToDrop);\n    // console.log(tangoToAdd);\n    // console.log(props.milonga.list);\n\n    props.dispatch(milongaActions.dropTangos(props.milonga.indexToDrop, tangoToAdd, props.milonga.list)); // console.log(props, monitor);\n  }\n};\n\nfunction collect(connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver()\n  };\n}\n\nvar rowsTemplate = [{\n  name: '',\n  field: 'played',\n  size: 40,\n  align: 'center',\n  sortStatus: SORT.NONE\n}, {\n  name: 'Title',\n  field: 'title',\n  size: 'auto',\n  align: 'left',\n  sortStatus: SORT.NONE\n}, {\n  name: 'Artist',\n  field: 'artist',\n  size: 'auto',\n  align: 'left',\n  sortStatus: SORT.NONE\n}, {\n  name: 'Singer',\n  field: 'singer',\n  size: 'auto',\n  align: 'left',\n  sortStatus: SORT.NONE\n}, {\n  name: 'Album',\n  field: 'album',\n  size: 'auto',\n  align: 'left',\n  sortStatus: SORT.NONE\n}, {\n  name: 'Genre',\n  field: 'genre',\n  size: 100,\n  align: 'center',\n  sortStatus: SORT.ASC\n}, {\n  name: 'Year',\n  field: 'year',\n  size: 50,\n  align: 'center',\n  sortStatus: SORT.NONE\n}, {\n  name: 'Bpm',\n  field: 'bpmHuman',\n  size: 80,\n  align: 'center',\n  sortStatus: SORT.NONE\n}, {\n  name: 'Time',\n  field: 'duration',\n  size: 40,\n  align: 'center',\n  sortStatus: SORT.NONE\n}];\nvar styles = {\n  main: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: '1 1 50%',\n    margin: '3px 0px 0px 0px',\n    padding: '2px',\n    color: 'white',\n    // backgroundColor: 'blue',\n    border: '1pt solid ' + '#5f5f5f',\n    overflow: 'hidden'\n  },\n  mainHided: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    // flexBasis: '25px',\n    // minWidth: '25px',\n    flex: '0 0 auto',\n    borderLeft: '1pt solid ' + '#5f5f5f',\n    overflow: 'hidden'\n  },\n  virtualListContainer: {\n    flex: \"1\",\n    display: 'flex',\n    flexDirection: 'column'\n  }\n};\n\nvar MilongaList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MilongaList, _Component);\n\n  function MilongaList(props) {\n    var _this;\n\n    _classCallCheck(this, MilongaList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MilongaList).call(this, props));\n\n    _this.handleClearMilonga = function () {\n      _this.props.dispatch(milongaActions.clearMilonga());\n    };\n\n    _this.handleOnClick = function () {\n      /*  // console.log(\"I have clicked on the div\");\n        let tangoToAdd = [];\n        this.props.selectedTangos.forEach((id) => {\n          // console.log(\"I will add tango \"+this.props.tangoList[id].title);\n          tangoToAdd.push(this.props.tangoList[id]);\n        });\n        console.log(tangoToAdd);\n        this.props.dispatch(milongaActions.addTango(tangoToAdd, this.props.milonga.list));\n      */\n    };\n\n    _this.virtualContainerRef = undefined;\n    _this.state = {\n      containerHeight: 600,\n      containerWidth: 600,\n      shouldHide: false\n    };\n    return _this;\n  }\n\n  _createClass(MilongaList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateDimensions();\n      window.addEventListener(\"resize\", this.updateDimensions);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"resize\", this.updateDimensions);\n    }\n  }, {\n    key: \"updateDimensions\",\n    value: function updateDimensions() {\n      if (this.state.shouldHide === false) {\n        var size;\n        size = {\n          height: this.virtualContainerRef.clientHeight,\n          width: this.virtualContainerRef.clientWidth\n        };\n        var containerHeight = this.virtualContainerRef.clientHeight;\n        var containerWidth = this.virtualContainerRef.clientWidth;\n        this.setState({\n          containerHeight: containerHeight,\n          containerWidth: containerWidth\n        });\n        var allSize = djUtils.calculateWidthAndHeightOfMilongaListAndSource();\n        console.log(allSize);\n        this.props.dispatch(sizeActions.updateMilongaSize(size));\n      }\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader() {\n      var sizedRows = djUtils.getSizedRows(rowsTemplate, this.state.containerWidth); // console.log(sizedRows);\n    }\n  }, {\n    key: \"getMenu\",\n    value: function getMenu() {\n      var _this2 = this;\n\n      var styles = {\n        paperContainer: {\n          display: 'flex',\n          alignItems: 'center',\n          margin: '0px 2px 5px 2px'\n        },\n        button: {\n          height: '36px',\n          padding: '0 12px'\n        },\n        toolTip: {\n          fontSize: '20px'\n        },\n        tooltip: {\n          display: 'flex',\n          flex: '1 1 auto',\n          alignItems: 'center',\n          fontSize: '16px',\n          fontWeight: 'bold',\n          minHeight: '30px'\n        },\n        overlayStyle: {\n          // backgroundColor:'#000',\n          opacity: '1'\n        }\n      };\n\n      if (this.state.shouldHide === false) {\n        return React.createElement(Paper, {\n          style: styles.paperContainer,\n          elevation: 4,\n          key: 'filter_source_menu',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          placement: 'bottom',\n          overlay: React.createElement(\"div\", {\n            style: styles.tooltip,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 230\n            },\n            __self: this\n          }, 'Hide milonga panel'),\n          overlayStyle: styles.overlayStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          style: styles.button,\n          color: 'secondary',\n          onClick: function onClick() {\n            _this2.setState({\n              shouldHide: !_this2.state.shouldHide\n            });\n\n            setTimeout(function () {\n              var newSizes = djUtils.calculateWidthAndHeightOfMilongaListAndSource();\n\n              _this2.props.dispatch(sizeActions.updateAllSize(newSizes.milongaSize, newSizes.sourceSize));\n            }, 100);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, React.createElement(ArrowRight, {\n          style: styles.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }))), React.createElement(Tooltip, {\n          placement: 'bottom',\n          overlay: React.createElement(\"div\", {\n            style: styles.tooltip,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 247\n            },\n            __self: this\n          }, 'Save'),\n          overlayStyle: styles.overlayStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          style: styles.button,\n          color: 'secondary',\n          onClick: function onClick() {\n            console.log('save milonga');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, React.createElement(Save, {\n          style: styles.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }))), React.createElement(Tooltip, {\n          placement: 'bottom',\n          overlay: React.createElement(\"div\", {\n            style: styles.tooltip,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 260\n            },\n            __self: this\n          }, 'Open a milonga'),\n          overlayStyle: styles.overlayStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          style: styles.button,\n          color: 'secondary',\n          onClick: function onClick() {\n            console.log('open milonga');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(OpenMilonga, {\n          style: styles.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }))), React.createElement(Tooltip, {\n          placement: 'bottom',\n          overlay: React.createElement(\"div\", {\n            style: styles.tooltip,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 273\n            },\n            __self: this\n          }, 'Show infos about Milonga'),\n          overlayStyle: styles.overlayStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          style: styles.button,\n          color: 'secondary',\n          onClick: function onClick() {\n            console.log('info about milonga');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(Info, {\n          style: styles.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        }))), React.createElement(Tooltip, {\n          placement: 'bottom',\n          overlay: React.createElement(\"div\", {\n            style: styles.tooltip,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 286\n            },\n            __self: this\n          }, 'Delete the milonga'),\n          overlayStyle: styles.overlayStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          style: styles.button,\n          color: 'secondary',\n          onClick: function onClick() {\n            console.log('delete milonga');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, React.createElement(Delete, {\n          style: styles.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295\n          },\n          __self: this\n        }))), React.createElement(Tooltip, {\n          placement: 'bottom',\n          overlay: React.createElement(\"div\", {\n            style: styles.tooltip,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 300\n            },\n            __self: this\n          }, 'Empty the milonga and start a new one'),\n          overlayStyle: styles.overlayStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          style: styles.button,\n          color: 'secondary',\n          onClick: this.handleClearMilonga,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302\n          },\n          __self: this\n        }, React.createElement(Sweep, {\n          style: styles.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307\n          },\n          __self: this\n        }))));\n      } else {\n        return React.createElement(Tooltip, {\n          placement: 'bottom',\n          overlay: React.createElement(\"div\", {\n            style: styles.tooltip,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 314\n            },\n            __self: this\n          }, 'Show milonga panel'),\n          overlayStyle: styles.overlayStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314\n          },\n          __self: this\n        }, React.createElement(IconButton, {\n          style: _objectSpread({}, styles.button, {\n            width: '24px'\n          }),\n          color: 'secondary',\n          onClick: function onClick() {\n            _this2.setState({\n              shouldHide: !_this2.state.shouldHide\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }, this.state.shouldHide === false && React.createElement(ArrowRight, {\n          style: styles.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323\n          },\n          __self: this\n        }), this.state.shouldHide === true && React.createElement(ArrowLeft, {\n          style: styles.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324\n          },\n          __self: this\n        })));\n      }\n    }\n  }, {\n    key: \"rowRenderer\",\n    value: function rowRenderer(params) {\n      var sizedRows = djUtils.getSizedRows(rowsTemplate, this.props.milongaSize);\n      var tango = this.props.milonga.list[params.index];\n      return React.createElement(DataLine, {\n        tango: tango,\n        sizedRows: sizedRows,\n        rowHeight: this.props.milonga.listRowHeight,\n        style: params.style,\n        index: params.index,\n        key: 'milonga_' + tango._id + '_' + params.index,\n        isMilonga: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var milonga = this.props.milonga;\n      var _this$props = this.props,\n          x = _this$props.x,\n          y = _this$props.y,\n          connectDropTarget = _this$props.connectDropTarget,\n          isOver = _this$props.isOver;\n\n      if (this.state.shouldHide !== true) {\n        return connectDropTarget(React.createElement(\"div\", {\n          style: styles.main,\n          onClick: this.handleOnClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354\n          },\n          __self: this\n        }, this.getMenu(), React.createElement(\"div\", {\n          style: styles.virtualListContainer,\n          ref: function ref(el) {\n            _this3.virtualContainerRef = el;\n          },\n          id: 'milongaVirtualList',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 359\n          },\n          __self: this\n        }, React.createElement(VirtualList, {\n          width: \"100%\",\n          height: this.state.containerHeight + milonga.listRowHeight,\n          itemCount: milonga.list.length,\n          itemSize: milonga.listRowHeight // Also supports variable heights (array or function getter)\n          ,\n          renderItem: function renderItem(index, style) {\n            return _this3.rowRenderer(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363\n          },\n          __self: this\n        }))));\n      } else {\n        return React.createElement(\"div\", {\n          style: styles.mainHided,\n          onClick: this.handleOnClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378\n          },\n          __self: this\n        }, this.getMenu());\n      }\n    }\n  }]);\n\n  return MilongaList;\n}(Component);\n/*MilongaList.propTypes = {\n  connectDropTarget: PropTypes.func.isRequired,\n  isOver: PropTypes.bool.isRequired\n};*/\n\n\nMilongaList = DropTarget(ItemTypes.TANGO, milongaTarget, collect)(MilongaList);\nexport default connect(function (store) {\n  return {\n    milonga: store.milonga,\n    selectedTangos: store.source.selectedTangos,\n    tangoList: store.source.displayTangoList,\n    milongaSize: store.sizes.milongaSize\n  };\n})(MilongaList);","map":{"version":3,"sources":["/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/react-tutos/dj-tango-js/IHM/src/components/milonga-list.js"],"names":["React","Component","connect","milongaActions","Save","OpenMilonga","Info","Delete","Sweep","ArrowRight","ArrowLeft","IconButton","Paper","Tooltip","VirtualList","ItemTypes","sortStatus","SORT","DataLine","djUtils","DropTarget","sizeActions","milongaTarget","drop","props","monitor","tangoToAdd","getTangoListFromIdList","selectedTangos","tangoList","dispatch","dropTangos","milonga","indexToDrop","list","collect","connectDropTarget","dropTarget","isOver","rowsTemplate","name","field","size","align","NONE","ASC","styles","main","display","flexDirection","flex","margin","padding","color","border","overflow","mainHided","justifyContent","borderLeft","virtualListContainer","MilongaList","handleClearMilonga","clearMilonga","handleOnClick","virtualContainerRef","undefined","state","containerHeight","containerWidth","shouldHide","updateDimensions","window","addEventListener","removeEventListener","height","clientHeight","width","clientWidth","setState","allSize","calculateWidthAndHeightOfMilongaListAndSource","console","log","updateMilongaSize","sizedRows","getSizedRows","paperContainer","alignItems","button","toolTip","fontSize","tooltip","fontWeight","minHeight","overlayStyle","opacity","setTimeout","newSizes","updateAllSize","milongaSize","sourceSize","icon","params","tango","index","listRowHeight","style","_id","x","y","getMenu","el","length","rowRenderer","TANGO","store","source","displayTangoList","sizes"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport * as milongaActions from '../redux/actions/milongaActions';\nimport Save from '@material-ui/icons/Save';\nimport OpenMilonga from '@material-ui/icons/FolderOpen';\nimport Info from '@material-ui/icons/Info';\nimport Delete from '@material-ui/icons/DeleteForever';\nimport Sweep from '@material-ui/icons/DeleteSweep'\nimport ArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\nimport ArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tooltip from 'rc-tooltip';\nimport 'rc-tooltip/assets/bootstrap.css';\nimport VirtualList from 'react-tiny-virtual-list';\nimport {ItemTypes, sortStatus as SORT} from \"../services/dj-const\";\nimport DataLine from './data-line';\nimport * as djUtils from \"./dj-utils\";\nimport {DropTarget} from 'react-dnd';\nimport * as sizeActions from '../redux/actions/componentSizeActions';\n\nconst milongaTarget = {\n  drop(props, monitor) {\n    // moveTango(props.beforeId, props.afterId);\n    //\n    let tangoToAdd = djUtils.getTangoListFromIdList(props.selectedTangos, props.tangoList);\n\n    // console.log(props.milonga.indexToDrop);\n    // console.log(tangoToAdd);\n    // console.log(props.milonga.list);\n    props.dispatch(milongaActions.dropTangos(props.milonga.indexToDrop, tangoToAdd, props.milonga.list));\n\n\n    // console.log(props, monitor);\n  }\n};\n\nfunction collect(connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver()\n  };\n}\n\nconst rowsTemplate = [\n  {\n    name: '',\n    field: 'played',\n    size: 40,\n    align: 'center',\n    sortStatus: SORT.NONE,\n  },\n  {\n    name: 'Title',\n    field: 'title',\n    size: 'auto',\n    align: 'left',\n    sortStatus: SORT.NONE,\n  },\n  {\n    name: 'Artist',\n    field: 'artist',\n    size: 'auto',\n    align: 'left',\n    sortStatus: SORT.NONE,\n  },\n  {\n    name: 'Singer',\n    field: 'singer',\n    size: 'auto',\n    align: 'left',\n    sortStatus: SORT.NONE,\n  },\n  {\n    name: 'Album',\n    field: 'album',\n    size: 'auto',\n    align: 'left',\n    sortStatus: SORT.NONE,\n  },\n  {\n    name: 'Genre',\n    field: 'genre',\n    size: 100,\n    align: 'center',\n    sortStatus: SORT.ASC,\n  },\n  {\n    name: 'Year',\n    field: 'year',\n    size: 50,\n    align: 'center',\n    sortStatus: SORT.NONE,\n  },\n  {\n    name: 'Bpm',\n    field: 'bpmHuman',\n    size: 80,\n    align: 'center',\n    sortStatus: SORT.NONE,\n  },\n  {\n    name: 'Time',\n    field: 'duration',\n    size: 40,\n    align: 'center',\n    sortStatus: SORT.NONE,\n  }\n];\n\nconst styles = {\n  main: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: '1 1 50%',\n    margin: '3px 0px 0px 0px',\n    padding: '2px',\n    color: 'white',\n    // backgroundColor: 'blue',\n    border: '1pt solid ' + '#5f5f5f',\n    overflow: 'hidden',\n  },\n  mainHided: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    // flexBasis: '25px',\n    // minWidth: '25px',\n    flex: '0 0 auto',\n    borderLeft: '1pt solid ' + '#5f5f5f',\n    overflow: 'hidden',\n  },\n  virtualListContainer: {\n    flex: \"1\",\n    display: 'flex',\n    flexDirection: 'column',\n  },\n\n};\n\nclass MilongaList extends Component {\n  handleClearMilonga = () => {\n    this.props.dispatch(milongaActions.clearMilonga());\n  };\n\n  constructor(props) {\n    super(props);\n    this.virtualContainerRef = undefined;\n    this.state = {\n      containerHeight: 600,\n      containerWidth: 600,\n      shouldHide: false,\n    };\n\n  }\n\n  componentDidMount() {\n    this.updateDimensions();\n    window.addEventListener(\"resize\", this.updateDimensions);\n\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions);\n  }\n\n  updateDimensions() {\n    if (this.state.shouldHide === false) {\n      let size: sizeDTO;\n      size = {height: this.virtualContainerRef.clientHeight, width: this.virtualContainerRef.clientWidth};\n      const containerHeight = this.virtualContainerRef.clientHeight;\n      const containerWidth = this.virtualContainerRef.clientWidth;\n      this.setState({containerHeight, containerWidth});\n      let allSize = djUtils.calculateWidthAndHeightOfMilongaListAndSource();\n      console.log(allSize);\n      this.props.dispatch(sizeActions.updateMilongaSize(size));\n    }\n  }\n\n  handleOnClick = () => {\n    /*  // console.log(\"I have clicked on the div\");\n      let tangoToAdd = [];\n      this.props.selectedTangos.forEach((id) => {\n        // console.log(\"I will add tango \"+this.props.tangoList[id].title);\n        tangoToAdd.push(this.props.tangoList[id]);\n      });\n      console.log(tangoToAdd);\n      this.props.dispatch(milongaActions.addTango(tangoToAdd, this.props.milonga.list));\n  */\n  };\n\n  getHeader() {\n\n    let sizedRows = djUtils.getSizedRows(rowsTemplate, this.state.containerWidth);\n    // console.log(sizedRows);\n\n  }\n\n  getMenu() {\n    const styles = {\n      paperContainer: {\n        display: 'flex',\n        alignItems: 'center',\n        margin: '0px 2px 5px 2px',\n      },\n      button: {\n        height: '36px',\n        padding: '0 12px',\n      },\n      toolTip: {\n        fontSize: '20px',\n      },\n      tooltip: {\n        display: 'flex',\n        flex: '1 1 auto',\n        alignItems: 'center',\n        fontSize: '16px',\n        fontWeight: 'bold',\n        minHeight: '30px',\n      },\n      overlayStyle: {\n        // backgroundColor:'#000',\n        opacity: '1'\n\n      }\n    };\n    if (this.state.shouldHide === false) {\n      return (\n        <Paper style={styles.paperContainer} elevation={4} key={'filter_source_menu'}>\n          <Tooltip placement={'bottom'} overlay={<div style={styles.tooltip}>{'Hide milonga panel'}</div>}\n                   overlayStyle={styles.overlayStyle}>\n            <IconButton\n              style={styles.button}\n              color={'secondary'}\n              onClick={() => {\n                this.setState({shouldHide: !this.state.shouldHide});\n                setTimeout(() => {\n                  let newSizes = djUtils.calculateWidthAndHeightOfMilongaListAndSource();\n                  this.props.dispatch(sizeActions.updateAllSize(newSizes.milongaSize, newSizes.sourceSize))\n                }, 100);\n\n              }}\n            >\n              <ArrowRight style={styles.icon}/>\n            </IconButton>\n          </Tooltip>\n          <Tooltip placement={'bottom'} overlay={<div style={styles.tooltip}>{'Save'}</div>}\n                   overlayStyle={styles.overlayStyle}>\n            <IconButton\n              style={styles.button}\n              color={'secondary'}\n              onClick={() => {\n                console.log('save milonga')\n              }}\n            >\n              <Save style={styles.icon}/>\n            </IconButton>\n          </Tooltip>\n\n          <Tooltip placement={'bottom'} overlay={<div style={styles.tooltip}>{'Open a milonga'}</div>}\n                   overlayStyle={styles.overlayStyle}>\n            <IconButton\n              style={styles.button}\n              color={'secondary'}\n              onClick={() => {\n                console.log('open milonga')\n              }}\n            >\n              <OpenMilonga style={styles.icon}/>\n            </IconButton>\n          </Tooltip>\n\n          <Tooltip placement={'bottom'} overlay={<div style={styles.tooltip}>{'Show infos about Milonga'}</div>}\n                   overlayStyle={styles.overlayStyle}>\n            <IconButton\n              style={styles.button}\n              color={'secondary'}\n              onClick={() => {\n                console.log('info about milonga')\n              }}\n            >\n              <Info style={styles.icon}/>\n            </IconButton>\n          </Tooltip>\n\n          <Tooltip placement={'bottom'} overlay={<div style={styles.tooltip}>{'Delete the milonga'}</div>}\n                   overlayStyle={styles.overlayStyle}>\n            <IconButton\n              style={styles.button}\n              color={'secondary'}\n              onClick={() => {\n                console.log('delete milonga')\n              }}\n            >\n              <Delete style={styles.icon}/>\n            </IconButton>\n          </Tooltip>\n\n          <Tooltip placement={'bottom'}\n                   overlay={<div style={styles.tooltip}>{'Empty the milonga and start a new one'}</div>}\n                   overlayStyle={styles.overlayStyle}>\n            <IconButton\n              style={styles.button}\n              color={'secondary'}\n              onClick={this.handleClearMilonga}\n            >\n              <Sweep style={styles.icon}/>\n            </IconButton>\n          </Tooltip>\n        </Paper>\n      );\n    } else {\n      return (\n        <Tooltip placement={'bottom'} overlay={<div style={styles.tooltip}>{'Show milonga panel'}</div>}\n                 overlayStyle={styles.overlayStyle}>\n          <IconButton\n            style={{...styles.button, width: '24px'}}\n            color={'secondary'}\n            onClick={() => {\n              this.setState({shouldHide: !this.state.shouldHide});\n            }}\n          >\n            {this.state.shouldHide === false && <ArrowRight style={styles.icon}/>}\n            {this.state.shouldHide === true && <ArrowLeft style={styles.icon}/>}\n          </IconButton>\n        </Tooltip>\n      );\n\n    }\n  }\n\n  rowRenderer(params) {\n\n    let sizedRows = djUtils.getSizedRows(rowsTemplate, this.props.milongaSize);\n    let tango = this.props.milonga.list[params.index];\n    return (\n      <DataLine\n        tango={tango}\n        sizedRows={sizedRows}\n        rowHeight={this.props.milonga.listRowHeight}\n        style={params.style}\n        index={params.index}\n        key={'milonga_' + tango._id + '_' + params.index}\n        isMilonga\n      />\n    );\n  }\n\n  render() {\n    let milonga = this.props.milonga;\n    const {x, y, connectDropTarget, isOver} = this.props;\n    if (this.state.shouldHide !== true) {\n      return connectDropTarget(\n        <div\n          style={styles.main}\n          onClick={this.handleOnClick}\n        >\n          {this.getMenu()}\n          <div style={styles.virtualListContainer} ref={el => {\n            this.virtualContainerRef = el\n          }}\n               id={'milongaVirtualList'}>\n            <VirtualList\n              width='100%'\n              height={this.state.containerHeight + milonga.listRowHeight}\n              itemCount={milonga.list.length}\n              itemSize={milonga.listRowHeight} // Also supports variable heights (array or function getter)\n              renderItem={(index, style) => {\n                return (this.rowRenderer(index))\n              }}\n            />\n          </div>\n\n        </div>\n      );\n    } else {\n      return (\n        <div\n          style={styles.mainHided}\n          onClick={this.handleOnClick}\n        >\n          {this.getMenu()}\n        </div>\n      );\n    }\n  }\n\n}\n\n/*MilongaList.propTypes = {\n  connectDropTarget: PropTypes.func.isRequired,\n  isOver: PropTypes.bool.isRequired\n};*/\n\n\nMilongaList = DropTarget(ItemTypes.TANGO, milongaTarget, collect)(MilongaList);\n\nexport default connect((store) => {\n  return {\n    milonga: store.milonga,\n    selectedTangos: store.source.selectedTangos,\n    tangoList: store.source.displayTangoList,\n    milongaSize: store.sizes.milongaSize,\n  }\n\n})(MilongaList);\n"]},"metadata":{},"sourceType":"module"}